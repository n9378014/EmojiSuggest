{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(n,e,t){},18:function(n,e,t){},37:function(n,e,t){\"use strict\";t.r(e);for(var r=t(1),o=t.n(r),i=t(6),c=t.n(i),a=(t(17),t(7)),u=t(8),f=t(12),s=t(11),h=(t(18),t(3)),l=t(9),d=t(10),g=t(0),m=t(30),v=(t(36),259),p=19,j=Math.ceil(13.631578947368421),O=Math.round(p*(j/4)+j/4*18)-Math.round(9.5),b=Math.ceil(9.5)-1,x=[],S=0;S<v;S++)x.push(m.openmojis[3073].hexcode);var w=[0,1,2,3,4,5,19,20,21,22,23,24,37,38,39,40,41,42,43,56,57,58,59,60,61,62,74,75,76,77,78,79,80,81,93,94,95,96,97,98,99],y=[7,8,9,10,11,26,27,28,29,45,46,47,64,65,83],A=[13,14,15,16,17,18,31,32,33,34,35,36,49,50,51,52,53,54,55,67,68,69,70,71,72,73,85,86,87,88,89,90,91,92,103,104,105,106,107,108,109,110],P=[121,122,123,124,125,126,127,128,129],k=new Array(v),E=function(){var n=Object(r.useState)([]),e=Object(h.a)(n,2),t=e[0],o=e[1],i=j([x]),c=Object(r.useState)(i),a=Object(h.a)(c,2),u=a[0],f=a[1];function s(n,e){var t=\"\";return Array.isArray(e)?t:t=\"/images/\"+e+\".png\"}function j(n,e){for(var r=n[0],o=n[1],i=0;i<r.length;i++)k[i]=s(0,r[i]);if(void 0!==o&&null!==o&&void 0!==e&&w.forEach((function(n){r[n]=o[w.indexOf(n)]})),t.length>=1)for(var c=0;c<t.length;c++)O-c-1>=O-b&&(r[O-c-1]=t[t.length-2-c]);var a=r.map((function(n,e){var t=function(n){var e=\"white\";return n<=O-1&&n>=O-b&&(e=\"#dbf7fd\"),n===O&&(e=\"#a4eefc\"),e}(e);return Array.isArray(n)?k[e]=\"/blends/\"+n[0]+n[1]+\".png\":k[e]=\"/images/\"+n+\".png\",{img:k[e],key:e,onClick:function(t){return F(e,n,t)},fill:\"\",styles:{normal:{fill:t},hover:{fill:\"#6cc7da\"},active:{fill:\"#779df1\"}}}}));return a}function S(n){return new Promise((function(e,t){var r;fetch(\"/api/randomblendhexcodes/\"+n+\"?limit=\"+w.length.toString()).then((function(n){return n.json()})).then((function(n){return r=JSON.parse(n)})).then((function(){e(r)}))}))}function E(n){return new Promise((function(e,t){var r;fetch(\"/api/markovhexcodes/\"+n+\"?limit=\"+P.length.toString()).then((function(n){return n.json()})).then((function(n){return r=JSON.parse(n)})).then((function(){e(r)}))}))}function J(n,e){return new Promise((function(t,r){var o;fetch(\"/api/markovblendhexcodes/\"+n+\"?limit=\"+e.toString()).then((function(n){return n.json()})).then((function(n){return o=JSON.parse(n)})).then((function(){t(o)}))}))}function N(n,e){for(var r=t,i=0;i<e;i++)r.push(n),r.length>b+1&&r.shift();o(r)}function C(n,e){return new Promise((function(t,r){var o;fetch(\"/api/blendemojis/\"+n+\"/\"+e).then((function(n){return n.json()})).then((function(){o=[n,e]})).then((function(){t(o)}))}))}var F=function(n,e,r){if(console.log(e+\" was clicked. ID is \"+n),n===O){var o=\"\";o=Array.isArray(e)?\"/blends/\"+e[0]+e[1]+\".png\":\"/images/\"+e+\".png\",Object(d.saveAs)(o,\"blend.png\")}else N(e,1),Array.isArray(e)&&(e=e[1]),Promise.all([new Promise((function(n,e){var t;fetch(\"/api/randomhexcodes?limit=\"+v.toString()).then((function(n){return n.json()})).then((function(n){return t=JSON.parse(n)})).then((function(){n(t)}))})),S(e),E(e),C(e,t[t.length-2]),C(t[t.length-2],e),J(e,y.length),J(e,A.length)]).then((function(n){if(void 0!==n[1]&&null!==n[1]&&null!==n[2]&&void 0!==e&&(w.forEach((function(e){n[0][e]=n[1][w.indexOf(e)]})),P.forEach((function(e){n[0][e]=n[2][P.indexOf(e)]})),y.forEach((function(e){n[0][e]=n[5][y.indexOf(e)]})),A.forEach((function(e){n[0][e]=n[6][A.indexOf(e)]}))),n[0][100]=n[3],n[0][137]=n[4],t.length>=1){n[0][O]=t[t.length-1];for(var r=0;r<t.length;r++)O-r-1>=O-b&&(n[0][O-r-1]=t[t.length-1-r])}var o;new Promise((function(t,r){o=j(n,e),t()})).then((function(){f(o)})).catch((function(n){console.log(\"Something went wrong with the tilePromise.\"),console.error(n.message)}))})).catch((function(n){console.error(n.message)}))};return window.addEventListener(\"DOMContentLoaded\",(function(n){var e;N(m.openmojis[3073].hexcode,b+1),fetch(\"/api/randomhexcodes?limit=\"+v.toString()).then((function(n){return n.json()})).then((function(n){return e=JSON.parse(n)})).then((function(){return i=j([e,[]])})).then((function(){return f(i)})).catch((function(n){console.log(\"Something went wrong with the randomhexcodes fetch request.\"),console.error(n.message)}))})),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(l.TiledHexagons,{tileSideLengths:60,tileGap:4,tileBorderRadii:9,maxHorizontal:p,tileTextStyles:{fontFamily:\"Source Sans Pro\",fontSize:\"68px\"},tiles:u,onLoad:function(){return F()}})})},J=function(n){Object(f.a)(t,n);var e=Object(s.a)(t);function t(){return Object(a.a)(this,t),e.apply(this,arguments)}return Object(u.a)(t,[{key:\"render\",value:function(){return Object(g.jsx)(\"div\",{className:\"App\",children:Object(g.jsx)(\"div\",{className:\"content\",children:Object(g.jsx)(E,{})})})}}]),t}(r.Component),N=J,C=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};c.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(N,{})}),document.getElementById(\"root\")),C()}},[[37,1,2]]]);","name":"static/js/main.11590b54.chunk.js","map":{"version":3,"sources":["static/js/main.11590b54.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","slicedToArray","dist","FileSaver_min","jsx_runtime","openmoji","numEmojis","maxHorizontal","maxVertical","Math","ceil","center","round","lenHistory","defaultEmojis","index","openmojis","hexcode","cat1Index","cat2Index","cat3Index","cat7Index","imageURLs","Array","src_Hexgrid","_useState","Object","_useState2","emojiHistory","setEmojiHistory","iniTileObj","newTileObject","_useState3","_useState4","emojiTiles","setEmojiTiles","getTileImage","tileIndex","image","isArray","_emojis","selectedHexcode","hexcodes","blendedHexcodes","i","length","undefined","forEach","indexOf","_i","tileObj","map","colour","getTileColour","img","key","onClick","e","handleClick","fill","styles","normal","hover","active","getRandomBlendHexcodes","Promise","resolve","reject","obj","fetch","toString","then","res","json","data","JSON","parse","getMarkovHexcodes","getMarkovBlendHexcodes","limit","updateEmojiHistory","num","newEmojis","shift","getBlendHexcode","hexcode1","hexcode2","id","console","log","imgURL","all","values","newTileObj","catch","error","message","window","addEventListener","event","children","tileSideLengths","tileGap","tileBorderRadii","tileTextStyles","fontFamily","fontSize","tiles","onLoad","App_App","_Component","App","_super","apply","arguments","value","className","src_App_0","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/tiled-hexagons/dist/index.js\nvar dist = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/file-saver/dist/FileSaver.min.js\nvar FileSaver_min = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Hexgrid.js\nvar openmoji=__webpack_require__(30);var fs=__webpack_require__(36);var numEmojis=259;var maxHorizontal=19;//111\nvar maxVertical=Math.ceil(numEmojis/maxHorizontal);var center=Math.round(maxHorizontal*(maxVertical/4)+(maxHorizontal-1)*(maxVertical/4))-Math.round(maxHorizontal/2);//Math.ceil(numEmojis/2)-3;\nvar lenHistory=Math.ceil(maxHorizontal/2)-1;var lenRandom=lenHistory;var defaultEmojis=[];for(var index=0;index<numEmojis;index++){defaultEmojis.push(openmoji.openmojis[3073].hexcode);}var cat1Index=[0,1,2,3,4,5,19,20,21,22,23,24,37,38,39,40,41,42,43,56,57,58,59,60,61,62,74,75,76,77,78,79,80,81,93,94,95,96,97,98,99];//100\nvar cat2Index=[7,8,9,10,11,26,27,28,29,45,46,47,64,65,83];var cat3Index=[13,14,15,16,17,18,31,32,33,34,35,36,49,50,51,52,53,54,55,67,68,69,70,71,72,73,85,86,87,88,89,90,91,92,103,104,105,106,107,108,109,110];var cat4Index=[];//137\nvar cat5Index=[];var cat6Index=[];var cat7Index=[121,122,123,124,125,126,127,128,129];//Line heading right from center\nvar imageURLs=new Array(numEmojis);var Hexgrid_Hexgrid=function Hexgrid(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),emojiHistory=_useState2[0],setEmojiHistory=_useState2[1];var iniTileObj=newTileObject([defaultEmojis]);var _useState3=Object(react[\"useState\"])(iniTileObj),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),emojiTiles=_useState4[0],setEmojiTiles=_useState4[1];//\nfunction getTileColour(tileIndex){var colour='white';if(tileIndex<=center-1&&tileIndex>=center-lenHistory){//If tile is part of emoji history\ncolour='#dbf7fd';//'#d4d4d4';\n}if(tileIndex===center){//If active emoji tile\ncolour='#a4eefc';}return colour;}function getTileImage(tileIndex,hexcode){var image=\"\";if(Array.isArray(hexcode)){//Then hexcode is a blend\n//image = `http://localhost:9000/blends/1F9431F0CF.png`;\n// fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + hexcode[1])\n//   .then(res => res.json())\n//   .then(data => { image = \"http://localhost:9000/blends/\" + data.url;})\n//   .then(() => { return image })\n//return 'http://localhost:9000/blends/1F9431F0CF.png';\nreturn image;}else{//it is a single emoji character\nimage=\"/images/\"+hexcode+\".png\";return image;}}function newTileObject(_emojis,selectedHexcode){var hexcodes=_emojis[0];var blendedHexcodes=_emojis[1];for(var i=0;i<hexcodes.length;i++){imageURLs[i]=getTileImage(i,hexcodes[i]);}/*\n    Substitute blendedHexcodes into hexcodes where appropriate\n    */if(blendedHexcodes!==undefined&&blendedHexcodes!==null&&selectedHexcode!==undefined){cat1Index.forEach(function(index){hexcodes[index]=blendedHexcodes[cat1Index.indexOf(index)];//console.log(hexcodes[index]);\n});}/*\n      Insert emoji history into active tiles\n      */if(emojiHistory.length>=1){for(var _i=0;_i<emojiHistory.length;_i++){if(center-_i-1>=center-lenHistory){hexcodes[center-_i-1]=emojiHistory[emojiHistory.length-2-_i];}}}// if (emojiHistory.length >= 1) {\n//   values[0][center] = emojiHistory[emojiHistory.length-1];\n//   for (let i = 0; i < emojiHistory.length-1; i++) {\n//     if (center - i -1> 49) {\n//       values[0][center - i - 2] = emojiHistory[emojiHistory.length - 1 - i];\n//     }\n//   }\n// }\n/*\n    Map hexcodes to tiles \n    */var tileObj=hexcodes.map(function(hexcode,index){/*  \n      Assign tile colour based on position in grid\n      */var colour=getTileColour(index);/*  \n      Assign tile image based on position in grid\n      */ //let image = `/images/1F4EF.svg`;\n//image = imageURLs[index];//getTileImage(index, hexcode); //get image then return tile\nif(Array.isArray(hexcode)){//Then hexcode is a blend\n//image = `http://localhost:9000/blends/1F9431F0CF.png`;\n// fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + \"1F0CF\")\n//   .then(res => res.json())\n//   .then(data => { imageURLs[index] = \"http://localhost:9000/blends/\" + data.url })\n//return 'http://localhost:9000/blends/1F9431F0CF.png';\n//return image\nimageURLs[index]=\"/blends/\"+hexcode[0]+hexcode[1]+'.png';}else{//it is a single emoji character\nimageURLs[index]=\"/images/\"+hexcode+\".png\";}return{img:imageURLs[index],key:index,onClick:function onClick(e){return handleClick(index,hexcode,e);},fill:'',styles:{normal:{fill:colour},hover:{fill:'#6cc7da'},active:{fill:'#779df1'}}};});return tileObj;}/*  \n  Get random emojis for every tile\n  */function getRandomHexcodes(){return new Promise(function(resolve,reject){var obj;fetch(\"/api/randomhexcodes?limit=\"+numEmojis.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \n  Get random blends\n  */function getRandomBlendHexcodes(hexcode){return new Promise(function(resolve,reject){var obj;fetch(\"/api/randomblendhexcodes/\"+hexcode+\"?limit=\"+cat1Index.length.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \n  Get markov emojis\n  */function getMarkovHexcodes(hexcode){return new Promise(function(resolve,reject){var obj;fetch(\"/api/markovhexcodes/\"+hexcode+\"?limit=\"+cat7Index.length.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \n  Get markov blends\n  */function getMarkovBlendHexcodes(hexcode,limit){return new Promise(function(resolve,reject){var obj;fetch(\"/api/markovblendhexcodes/\"+hexcode+\"?limit=\"+limit.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*\n  Update emoji history and remove the oldest entry if length exceeds max.\n  */function updateEmojiHistory(hexcode,num){var newEmojis=emojiHistory;for(var i=0;i<num;i++){newEmojis.push(hexcode);if(newEmojis.length>lenHistory+1){newEmojis.shift();}}setEmojiHistory(newEmojis);}function getBlendHexcode(hexcode1,hexcode2){return new Promise(function(resolve,reject){var obj;fetch(\"/api/blendemojis/\"+hexcode1+\"/\"+hexcode2).then(function(res){return res.json();}).then(function(){obj=[hexcode1,hexcode2];}).then(function(){resolve(obj);});});}var handleClick=function handleClick(id,hexcode,e){console.log(hexcode+' was clicked. ID is '+id);if(id===center){var imgURL='';if(Array.isArray(hexcode)){//Then hexcode is a blend\nimgURL=\"/blends/\"+hexcode[0]+hexcode[1]+'.png';}else{//it is a single emoji character\nimgURL=\"/images/\"+hexcode+\".png\";}Object(FileSaver_min[\"saveAs\"])(imgURL,'blend.png');}else{updateEmojiHistory(hexcode,1);//Add clicked emoji to emoji history\n/*\n      TODO: Replace all emoji with 'loading' emoji with no click handler\n      */ //TODO: This is a quick fix, find a way to send both hexcodes and still get blends:\nif(Array.isArray(hexcode)){//Then hexcode is a blend\nhexcode=hexcode[1];}//Get hexcodes for new tiles, then assign them to tiles:\nPromise.all([getRandomHexcodes(),getRandomBlendHexcodes(hexcode),getMarkovHexcodes(hexcode),getBlendHexcode(hexcode,emojiHistory[emojiHistory.length-2]),getBlendHexcode(emojiHistory[emojiHistory.length-2],hexcode),getMarkovBlendHexcodes(hexcode,cat2Index.length),getMarkovBlendHexcodes(hexcode,cat3Index.length)]).then(function(values){//Substitute blendedHexcodes into hexcodes where appropriate:\nif(values[1]!==undefined&&values[1]!==null&&values[2]!==null&&hexcode!==undefined){cat1Index.forEach(function(index){values[0][index]=values[1][cat1Index.indexOf(index)];});cat7Index.forEach(function(index){values[0][index]=values[2][cat7Index.indexOf(index)];});cat2Index.forEach(function(index){values[0][index]=values[5][cat2Index.indexOf(index)];});cat3Index.forEach(function(index){values[0][index]=values[6][cat3Index.indexOf(index)];});}values[0][100]=values[3];//Make this one a blend between current and most recent history\nvalues[0][137]=values[4];//Make this one a blend between current and most recent history\n//Insert emoji history into active tiles:\nif(emojiHistory.length>=1){values[0][center]=emojiHistory[emojiHistory.length-1];for(var i=0;i<emojiHistory.length;i++){if(center-i-1>=center-lenHistory){values[0][center-i-1]=emojiHistory[emojiHistory.length-1-i];}}}var newTileObj;var tilePromise=new Promise(function(resolve,reject){newTileObj=newTileObject(values,hexcode);resolve();});tilePromise.then(function(){setEmojiTiles(newTileObj);}).catch(function(error){console.log(\"Something went wrong with the tilePromise.\");console.error(error.message);});//newTileObj = newTileObject(values, hexcode); //gen tiles then return them\n}).catch(function(error){console.error(error.message);});}};/*\n  Display the initial emoji options.\n  This is occuring twice according to the API terminal\n  */window.addEventListener('DOMContentLoaded',function(event){/*\n      Fill the emoji history with placeholders\n    */updateEmojiHistory(openmoji.openmojis[3073].hexcode,lenHistory+1);/*\n      TODO: Replace this with a call to the getrandoms function\n    */var obj;fetch(\"/api/randomhexcodes?limit=\"+numEmojis.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){return iniTileObj=newTileObject([obj,[]]);}).then(function(){return setEmojiTiles(iniTileObj);}).catch(function(error){console.log(\"Something went wrong with the randomhexcodes fetch request.\");console.error(error.message);});});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"TiledHexagons\"],{tileSideLengths:60,tileGap:4,tileBorderRadii:9,maxHorizontal:maxHorizontal,tileTextStyles:{fontFamily:'Source Sans Pro',fontSize:'68px'},tiles:emojiTiles,onLoad:function onLoad(){return handleClick();}})});};/* harmony default export */ var src_Hexgrid = (Hexgrid_Hexgrid);\n// CONCATENATED MODULE: ./src/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Hexgrid,{})});};/* harmony default export */ var src_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/Navbar.js\nvar Navbar_Navbar=function Navbar(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"EmojiSuggest\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"links\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",children:\"Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/about\",style:{color:\"white\",backgroundColor:\"red\",borderRadius:\"8px\",padding:\"5px\"},children:\"About\"})]})]});};/* harmony default export */ var src_Navbar = (Navbar_Navbar);\n// CONCATENATED MODULE: ./src/App.js\n// Importing style sheet (TODO: remove this later)\n// Importing pages and components\nvar App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){Object(classCallCheck[\"a\" /* default */])(this,App);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Hexgrid,{})})});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 38)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/postcss-loader/src/index.js??postcss!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/index.css","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/postcss-loader/src/index.js??postcss!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/App.css","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Hexgrid.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Home.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Navbar.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/App.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/reportWebVitals.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/index.js"],"names":["openmoji","require","fs","numEmojis","maxHorizontal","maxVertical","Math","ceil","center","round","lenHistory","lenRandom","defaultEmojis","index","push","openmojis","hexcode","cat1Index","cat2Index","cat3Index","cat4Index","cat5Index","cat6Index","cat7Index","imageURLs","Array","Hexgrid","useState","emojiHistory","setEmojiHistory","iniTileObj","newTileObject","emojiTiles","setEmojiTiles","getTileColour","tileIndex","colour","getTileImage","image","isArray","_emojis","selectedHexcode","hexcodes","blendedHexcodes","i","length","undefined","forEach","indexOf","tileObj","map","img","key","onClick","e","handleClick","fill","styles","normal","hover","active","getRandomHexcodes","Promise","resolve","reject","obj","fetch","toString","then","res","json","data","JSON","parse","getRandomBlendHexcodes","getMarkovHexcodes","getMarkovBlendHexcodes","limit","updateEmojiHistory","num","newEmojis","shift","getBlendHexcode","hexcode1","hexcode2","id","console","log","imgURL","saveAs","all","values","newTileObj","tilePromise","catch","error","message","window","addEventListener","event","fontFamily","fontSize","Home","Navbar","color","backgroundColor","borderRadius","padding","App","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { TiledHexagons } from 'tiled-hexagons'\nimport { useState, useEffect } from 'react'\nimport React, { Component } from 'react';\nimport { saveAs } from 'file-saver';\n\nconst openmoji = require('openmoji');\nconst fs = require('fs');\n\nconst numEmojis = 259;\nconst maxHorizontal = 19;//111\nconst maxVertical = Math.ceil(numEmojis / maxHorizontal);\n\nconst center = Math.round((maxHorizontal * (maxVertical / 4)) + ((maxHorizontal - 1) * (maxVertical / 4))) - Math.round((maxHorizontal) / 2);//Math.ceil(numEmojis/2)-3;\nconst lenHistory = Math.ceil(maxHorizontal / 2) - 1;\nconst lenRandom = lenHistory;\nconst defaultEmojis = [];\n\nfor (let index = 0; index < numEmojis; index++) {\n  defaultEmojis.push(openmoji.openmojis[3073].hexcode);\n}\n\nconst cat1Index = [0, 1, 2, 3, 4, 5,\n  19, 20, 21, 22, 23, 24,\n  37, 38, 39, 40, 41, 42, 43,\n  56, 57, 58, 59, 60, 61, 62,\n  74, 75, 76, 77, 78, 79, 80, 81,\n  93, 94, 95, 96, 97, 98, 99]; //100\n\nconst cat2Index = [7, 8, 9, 10, 11,\n  26, 27, 28, 29,\n  45, 46, 47,\n  64, 65,\n  83];\n\nconst cat3Index = [13, 14, 15, 16, 17, 18,\n                  31, 32, 33, 34, 35, 36,\n                  49, 50, 51, 52, 53, 54, 55,\n                  67, 68, 69, 70, 71, 72, 73,\n                  85, 86, 87, 88, 89, 90, 91, 92,\n                  103, 104, 105, 106, 107, 108, 109, 110];\n\nconst cat4Index = []; //137\nconst cat5Index = [];\nconst cat6Index = [];\nconst cat7Index = [121, 122, 123, 124, 125, 126, 127, 128, 129]; //Line heading right from center\n\nlet imageURLs = new Array(numEmojis);\n\nconst Hexgrid = () => {\n  const [emojiHistory, setEmojiHistory] = useState([]);\n  var iniTileObj = newTileObject([defaultEmojis]);\n  const [emojiTiles, setEmojiTiles] = useState(iniTileObj); //\n\n  function getTileColour(tileIndex) {\n    let colour = 'white';\n    if (tileIndex <= (center - 1) && tileIndex >= (center - lenHistory)) { //If tile is part of emoji history\n      colour = '#dbf7fd';//'#d4d4d4';\n    }\n    if (tileIndex === center) { //If active emoji tile\n      colour = '#a4eefc';\n    }\n    return colour;\n  }\n\n  function getTileImage(tileIndex, hexcode) {\n    let image = ``;\n\n    if (Array.isArray(hexcode)) { //Then hexcode is a blend\n      //image = `http://localhost:9000/blends/1F9431F0CF.png`;\n      // fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + hexcode[1])\n      //   .then(res => res.json())\n      //   .then(data => { image = \"http://localhost:9000/blends/\" + data.url;})\n      //   .then(() => { return image })\n      //return 'http://localhost:9000/blends/1F9431F0CF.png';\n      return image\n    }\n    else { //it is a single emoji character\n      image = \"/images/\" + hexcode + \".png\";\n      return image;\n    }\n  }\n\n  function newTileObject(_emojis, selectedHexcode) {\n    let hexcodes = _emojis[0];\n    let blendedHexcodes = _emojis[1];\n    for (let i = 0; i < hexcodes.length; i++) {\n      imageURLs[i] = getTileImage(i, hexcodes[i]);\n    }\n\n    /*\n    Substitute blendedHexcodes into hexcodes where appropriate\n    */\n    if (blendedHexcodes !== undefined && blendedHexcodes !== null && selectedHexcode !== undefined) {\n      cat1Index.forEach(index => {\n        hexcodes[index] = blendedHexcodes[cat1Index.indexOf(index)];\n        //console.log(hexcodes[index]);\n      });\n    }\n\n      /*\n      Insert emoji history into active tiles\n      */\n      if (emojiHistory.length >= 1) {\n        for (let i = 0; i < emojiHistory.length; i++) {\n          if (center - i - 1 >= (center - lenHistory)) {\n            hexcodes[center - i -1] = emojiHistory[emojiHistory.length - 2 - i];\n          }\n        }\n      }\n\n      // if (emojiHistory.length >= 1) {\n      //   values[0][center] = emojiHistory[emojiHistory.length-1];\n      //   for (let i = 0; i < emojiHistory.length-1; i++) {\n      //     if (center - i -1> 49) {\n      //       values[0][center - i - 2] = emojiHistory[emojiHistory.length - 1 - i];\n      //     }\n      //   }\n      // }\n\n    /*\n    Map hexcodes to tiles \n    */\n    const tileObj = hexcodes.map((hexcode, index) => {\n      /*  \n      Assign tile colour based on position in grid\n      */\n      let colour = getTileColour(index);\n\n      /*  \n      Assign tile image based on position in grid\n      */\n      //let image = `/images/1F4EF.svg`;\n      //image = imageURLs[index];//getTileImage(index, hexcode); //get image then return tile\n      if (Array.isArray(hexcode)) { //Then hexcode is a blend\n        //image = `http://localhost:9000/blends/1F9431F0CF.png`;\n        // fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + \"1F0CF\")\n        //   .then(res => res.json())\n        //   .then(data => { imageURLs[index] = \"http://localhost:9000/blends/\" + data.url })\n        //return 'http://localhost:9000/blends/1F9431F0CF.png';\n        //return image\n        imageURLs[index] = \"/blends/\" + hexcode[0] + hexcode[1] + '.png';\n      }\n      else { //it is a single emoji character\n        imageURLs[index] = \"/images/\" + hexcode + \".png\";\n      }\n      return {\n        img: imageURLs[index],\n        key: index,\n        onClick: (e) => handleClick(index, hexcode, e),\n        fill: '',\n        styles: {\n          normal: {\n            fill: colour\n          },\n          hover: {\n            fill: '#6cc7da'\n          },\n          active: {\n            fill: '#779df1'\n          }\n        }\n      }\n    })\n\n    return tileObj;\n  }\n\n  /*  \n  Get random emojis for every tile\n  */\n  function getRandomHexcodes() {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/randomhexcodes?limit=\" + numEmojis.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*  \n  Get random blends\n  */\n  function getRandomBlendHexcodes(hexcode) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/randomblendhexcodes/\" + hexcode + \"?limit=\" + cat1Index.length.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*  \n  Get markov emojis\n  */\n  function getMarkovHexcodes(hexcode) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/markovhexcodes/\" + hexcode + \"?limit=\" + cat7Index.length.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n    /*  \n  Get markov blends\n  */\n  function getMarkovBlendHexcodes(hexcode, limit) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/markovblendhexcodes/\" + hexcode + \"?limit=\" + limit.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*\n  Update emoji history and remove the oldest entry if length exceeds max.\n  */\n  function updateEmojiHistory(hexcode, num) {\n    let newEmojis = emojiHistory;\n    for (let i = 0; i < num; i++) {\n      newEmojis.push(hexcode);\n      if (newEmojis.length > lenHistory+1) {\n        newEmojis.shift();\n      }\n    }\n    setEmojiHistory(newEmojis);\n  }\n\n  function getBlendHexcode(hexcode1, hexcode2) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/blendemojis/\" + hexcode1 + \"/\" + hexcode2)\n        .then(res => res.json())\n        .then(() => { obj = [hexcode1, hexcode2]; })\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  const handleClick = (id, hexcode, e) => {\n    console.log(hexcode + ' was clicked. ID is ' + id);\n\n    if (id === center) {\n      var imgURL = '';\n    \n      if (Array.isArray(hexcode)) { //Then hexcode is a blend\n        imgURL = \"/blends/\" + hexcode[0] + hexcode[1] + '.png';\n      }\n      else { //it is a single emoji character\n        imgURL = \"/images/\" + hexcode + \".png\";\n      }\n  \n      saveAs(imgURL, 'blend.png');\n    }\n    else {\n      updateEmojiHistory(hexcode, 1); //Add clicked emoji to emoji history\n\n      /*\n      TODO: Replace all emoji with 'loading' emoji with no click handler\n      */\n  \n      //TODO: This is a quick fix, find a way to send both hexcodes and still get blends:\n      if(Array.isArray(hexcode)){ //Then hexcode is a blend\n        hexcode = hexcode[1];\n      }\n  \n      //Get hexcodes for new tiles, then assign them to tiles:\n      Promise.all([getRandomHexcodes(), getRandomBlendHexcodes(hexcode), getMarkovHexcodes(hexcode), getBlendHexcode(hexcode, emojiHistory[emojiHistory.length - 2]), getBlendHexcode(emojiHistory[emojiHistory.length - 2], hexcode), getMarkovBlendHexcodes(hexcode, cat2Index.length),getMarkovBlendHexcodes(hexcode, cat3Index.length)]).then((values) => {\n        //Substitute blendedHexcodes into hexcodes where appropriate:\n        if (values[1] !== undefined && values[1] !== null && values[2] !== null && hexcode !== undefined) {\n          cat1Index.forEach(index => {\n            values[0][index] = values[1][cat1Index.indexOf(index)];\n          });\n          cat7Index.forEach(index => {\n            values[0][index] = values[2][cat7Index.indexOf(index)];\n          });\n          cat2Index.forEach(index => {\n            values[0][index] = values[5][cat2Index.indexOf(index)];\n          });\n          cat3Index.forEach(index => {\n            values[0][index] = values[6][cat3Index.indexOf(index)];\n          });\n\n        }\n  \n        values[0][100] = values[3]; //Make this one a blend between current and most recent history\n        values[0][137] = values[4]; //Make this one a blend between current and most recent history\n  \n        //Insert emoji history into active tiles:\n        if (emojiHistory.length >= 1) {\n          values[0][center] = emojiHistory[emojiHistory.length-1];\n          for (let i = 0; i < emojiHistory.length; i++) {\n            if (center - i - 1 >= (center - lenHistory)) {\n              values[0][center - i - 1] = emojiHistory[emojiHistory.length - 1 - i];\n            }\n          }\n        }\n  \n        var newTileObj;\n        const tilePromise = new Promise((resolve, reject) => {\n          newTileObj = newTileObject(values, hexcode);\n          resolve();\n        });\n        tilePromise\n          .then(() => { setEmojiTiles(newTileObj); }).catch(error => {\n            console.log(\"Something went wrong with the tilePromise.\")\n            console.error(error.message)\n          });\n  \n        //newTileObj = newTileObject(values, hexcode); //gen tiles then return them\n      }).catch(error => {\n        console.error(error.message)\n      });\n    }\n  }\n\n  /*\n  Display the initial emoji options.\n  This is occuring twice according to the API terminal\n  */\n  window.addEventListener('DOMContentLoaded', (event) => {\n    /*\n      Fill the emoji history with placeholders\n    */\n    updateEmojiHistory(openmoji.openmojis[3073].hexcode, lenHistory+1 );\n    \n    /*\n      TODO: Replace this with a call to the getrandoms function\n    */\n    var obj;\n    fetch(\"/api/randomhexcodes?limit=\" + numEmojis.toString())\n      .then(res => res.json())\n      .then(data => obj = JSON.parse(data))\n      .then(() => iniTileObj = newTileObject([obj, []]))\n      .then(() => setEmojiTiles(iniTileObj))\n      .catch(error => {\n        console.log(\"Something went wrong with the randomhexcodes fetch request.\")\n        console.error(error.message)\n      })\n  });\n\n  return (\n    <>\n      <TiledHexagons\n        tileSideLengths={60}\n        tileGap={4}\n        tileBorderRadii={9}\n        maxHorizontal={maxHorizontal}\n        tileTextStyles={{\n          fontFamily: 'Source Sans Pro',\n          fontSize: '68px',\n        }}\n        tiles={emojiTiles}\n        onLoad={() => handleClick()}\n      />\n    </>\n  );\n}\n\nexport default Hexgrid;","import Hexgrid from \"./Hexgrid\";\n\nconst Home = () => {    \n    return ( \n        <div className=\"home\">\n            <Hexgrid />\n        </div>\n     );\n}\n \nexport default Home;","const Navbar = () => {\n    return(\n        <nav className=\"navbar\">\n            <h1>EmojiSuggest</h1>\n            <div className=\"links\">\n                <a href=\"/\">Home</a>\n                <a href=\"/about\" style={{\n                    color: \"white\",\n                    backgroundColor: \"red\",\n                    borderRadius: \"8px\",\n                    padding: \"5px\"\n                }}>About</a>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navbar;","import React, { Component } from \"react\";\n// Importing style sheet (TODO: remove this later)\nimport './App.css';\n\n// Importing pages and components\nimport Home from \"./Home\";\nimport Navbar from \"./Navbar\";\nimport Hexgrid from \"./Hexgrid\";\n\n\nclass App extends Component {\n  render(){\n    return (    \n      <div className=\"App\">\n        {/* Navigation Bar Component*/}\n        {/*<Navbar /> */} \n        <div className=\"content\">\n          <Hexgrid />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}