{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,n,t){},18:function(e,n,t){},37:function(e,n,t){\"use strict\";t.r(n);for(var o=t(1),i=t.n(o),r=t(6),c=t.n(r),s=(t(17),t(7)),a=t(8),l=t(12),u=t(11),f=(t(18),t(3)),h=t(9),d=t(10),p=t(0),g=t(30),m=(t(36),259),b=19,j=Math.ceil(13.631578947368421),O=Math.round(b*(j/4)+j/4*18)-Math.round(9.5),v=Math.ceil(9.5)-1,x=[],w=0;w<m;w++)x.push(g.openmojis[3073].hexcode);for(var y=[],S=0;S<m;S++)y.push(g.openmojis[3073].hexcode);var C=[100,137],A=[0,1,2,3,4,5,19,20,21,22,23,24,37,38,39,40,41,42,43,56,57,58,59,60,61,62,74,75,76,77,78,79,80,81,93,94,95,96,97,98,99,100].reverse(),E=[7,8,9,10,11,26,27,28,29,45,46,47,64,65,83].reverse(),k=[13,14,15,16,17,18,31,32,33,34,35,36,49,50,51,52,53,54,55,67,68,69,70,71,72,73,85,86,87,88,89,90,91,92,103,104,105,106,107,108,109,110].reverse(),P=[130,131,132,133,134,135,136,137,148,149,150,151,152,153,154,155,167,168,169,170,171,172,173,185,186,187,188,189,190,191,204,205,206,207,208,209,222,223,224,225,226,227,241,242,243,244,245],F=[157,175,176,193,194,195,211,212,213,214,229,230,231,232,233,247,248,249,250,251,252],N=[140,141,142,143,144,145,146,147,159,160,161,162,163,164,165,166,178,179,180,181,182,183,184,197,198,199,200,201,202,203,216,217,218,219,220,221,235,236,237,238,239,240,254,255,256,257,258],T=[121,122,123,124,125,126,127,128,129],L=[139,158,177,196,215,234,253],M=[138,156,174,192,210,228,246],B=[119,118,117,116,115,114,113,112,111],D=[101,82,63,44,25,6],I=[102,84,66,48,30,12],J=new Array(m),H=function(){var e=Object(o.useState)([]),n=Object(f.a)(e,2),t=n[0],i=n[1],r=w(x),c=Object(o.useState)(r),s=Object(f.a)(c,2),a=s[0],l=s[1],u=w(y,g.openmojis[3073].hexcode);function j(e,n){var t=\"\";return Array.isArray(n)?t:t=\"/images/\"+n+\".png\"}function w(e,n){for(var o=e,i=0;i<o.length;i++)J[i]=j(0,o[i]);if(t.length>=1)for(var r=0;r<t.length;r++)O-r-1>=O-v&&(o[O-r-1]=t[t.length-2-r]);console.log(\"tiles len \"+o.length);var c=o.map((function(e,n){e&&0!==e.length||(e=\"2049\");var t=function(e){var n=\"white\";return n=T.includes(e)||L.includes(e)||M.includes(e)||B.includes(e)||D.includes(e)||I.includes(e)?\"#dbf7fd\":\"white\",e===O&&(n=\"#a4eefc\"),n}(n);return Array.isArray(e)?J[n]=\"/blends/\"+e[0]+e[1]+\".png\":J[n]=\"/images/\"+e+\".png\",{img:J[n],key:n,onClick:function(t){return q(n,e,t)},fill:\"\",styles:{normal:{fill:t},hover:{fill:\"#6cc7da\"},active:{fill:\"#779df1\"}}}}));return c}function S(e,n){for(var o=t,r=0;r<n;r++)o.push(e),o.length>v+1&&o.shift();i(o)}function H(e,n,o){return new Promise((function(i,r){var c,s=\"\";Array.isArray(e)?(s=\"&blendedwith=\"+e[0],e=e[1]):n.length>0&&(s=\"&blendedwith=\"+n),\"1F504\"!==t[t.length-2]&&(s=s+\"&prev=\"+t[t.length-2]),console.log(\"/api/variety/\"+e+\"?limit=\"+o.toString()+s),fetch(\"/api/variety/\"+e+\"?limit=\"+o.toString()+s).then((function(e){return e.json()})).then((function(e){console.log(e),c=JSON.parse(e)})).then((function(){console.log(c)})).then((function(){i(c)})).catch((function(e){console.error(e.message)}))}))}var q=function(e,n,t){if(console.log(n+\" was clicked. ID is \"+e),e===O){var o=\"\";o=Array.isArray(n)?\"/blends/\"+n[0]+n[1]+\".png\":\"/images/\"+n+\".png\",Object(d.saveAs)(o,\"blend.png\")}else if(\"1F504\"!==n){S(n,1),l(u),console.log(\"Hex: \"+n);Promise.all([H(n,\"\",m)]).then((function(e){console.log(e[0]);var t,o=y;A.forEach((function(n){o[n]=e[0][0][A.indexOf(n)]})),E.forEach((function(n){o[n]=e[0][1][E.indexOf(n)]})),k.forEach((function(n){o[n]=e[0][2][k.indexOf(n)]})),P.forEach((function(n){o[n]=e[0][3][P.indexOf(n)]})),F.forEach((function(n){o[n]=e[0][4][F.indexOf(n)]})),N.forEach((function(n){o[n]=e[0][5][N.indexOf(n)]})),T.forEach((function(n){o[n]=e[0][6][T.indexOf(n)]})),L.forEach((function(n){o[n]=e[0][7][L.indexOf(n)]})),M.forEach((function(n){o[n]=e[0][8][M.indexOf(n)]})),D.forEach((function(n){o[n]=e[0][9][D.indexOf(n)]})),I.forEach((function(n){o[n]=e[0][10][I.indexOf(n)]})),e[0][11].length>0&&C.forEach((function(n){o[n]=e[0][11][C.indexOf(n)]})),o[O]=n,new Promise((function(e,n){t=w(o),e()})).then((function(){l(t)})).catch((function(e){console.log(\"Something went wrong with the tilePromise.\"),console.error(e.message)}))})).catch((function(e){console.error(e.message)}))}};return window.addEventListener(\"DOMContentLoaded\",(function(e){var n,t=document.querySelector(\".App\");t.scrollLeft=350,t.scrollTop=350,S(g.openmojis[3073].hexcode,v+1),fetch(\"/api/randomhexcodes?limit=\"+m.toString()).then((function(e){return e.json()})).then((function(e){return n=JSON.parse(e)})).then((function(){return r=w(n)})).then((function(){return l(r)})).catch((function(e){console.log(\"Something went wrong with the randomhexcodes fetch request.\"),console.error(e.message)}))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(h.TiledHexagons,{tileSideLengths:60,tileGap:4,tileBorderRadii:9,maxHorizontal:b,tileTextStyles:{fontFamily:\"Source Sans Pro\",fontSize:\"68px\"},tiles:a,onLoad:function(){return q()}})})},q=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(a.a)(t,[{key:\"render\",value:function(){return Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsx)(\"div\",{className:\"content\",children:Object(p.jsx)(H,{})})})}}]),t}(o.Component),z=q,G=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(n){var t=n.getCLS,o=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),o(e),i(e),r(e),c(e)}))};c.a.render(Object(p.jsxs)(i.a.StrictMode,{children:[Object(p.jsx)(z,{}),Object(p.jsxs)(\"p\",{children:[\"This work includes data from ConceptNet 5, which was compiled by the Commonsense Computing Initiative. \\\\n ConceptNet 5 is freely available under the Creative Commons Attribution-ShareAlike license (CC BY SA 4.0) from \",Object(p.jsx)(\"a\",{href:\"https://conceptnet.io\",children:\"ConceptNet\"}),\". \\\\n The included data was created by contributors to Commonsense Computing projects, contributors to Wikimedia projects, Games with a Purpose, Princeton University's WordNet, DBPedia, OpenCyc, and Umbel.\"]}),Object(p.jsxs)(\"p\",{children:[\"This work also uses the \",Object(p.jsx)(\"a\",{href:\"https://opus.nlpl.eu/OpenSubtitles-v1.php\",children:\"OpenSubtitle Corpus\"}),\" which includes data from  \",Object(p.jsx)(\"a\",{href:\"http://www.opensubtitles.org/\",children:\"OpenSubtitles\"}),\".\"]})]}),document.getElementById(\"root\")),G()}},[[37,1,2]]]);","name":"static/js/main.19249886.chunk.js","map":{"version":3,"sources":["static/js/main.19249886.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","slicedToArray","dist","FileSaver_min","jsx_runtime","openmoji","numEmojis","maxHorizontal","maxVertical","Math","ceil","center","round","lenHistory","defaultEmojis","index","openmojis","hexcode","tempmojis","_index","combineHistIndex","cat1Index","reverse","cat2Index","cat3Index","cat4Index","cat5Index","cat6Index","cat7Index","cat8Index","cat9Index","cat10Index","cat11Index","cat12Index","imageURLs","Array","src_Hexgrid","_useState","Object","_useState2","emojiHistory","setEmojiHistory","iniTileObj","newTileObject","_useState3","_useState4","emojiTiles","setEmojiTiles","tmpTileObj","getTileImage","tileIndex","image","isArray","_emojis","selectedHexcode","hexcodes","i","length","_i","console","log","tileObj","map","colour","includes","getTileColour","img","key","onClick","e","handleClick","fill","styles","normal","hover","active","updateEmojiHistory","num","newEmojis","shift","getVarietyHexcodes","blendedwith","limit","Promise","resolve","reject","obj","strEnd","toString","fetch","then","res","json","data","JSON","parse","catch","error","message","id","imgURL","all","tvalues","newTileObj","values","forEach","indexOf","window","addEventListener","event","scroll","document","querySelector","scrollLeft","scrollTop","children","tileSideLengths","tileGap","tileBorderRadii","tileTextStyles","fontFamily","fontSize","tiles","onLoad","App_App","_Component","App","_super","apply","arguments","value","className","src_App_0","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","href","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/tiled-hexagons/dist/index.js\nvar dist = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/file-saver/dist/FileSaver.min.js\nvar FileSaver_min = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Hexgrid.js\nvar openmoji=__webpack_require__(30);var fs=__webpack_require__(36);var numEmojis=259;//If this is adjusted, the catIndex allocations and calls to api\\variety will need to be changed\nvar maxHorizontal=19;var maxVertical=Math.ceil(numEmojis/maxHorizontal);var center=Math.round(maxHorizontal*(maxVertical/4)+(maxHorizontal-1)*(maxVertical/4))-Math.round(maxHorizontal/2);//Math.ceil(numEmojis/2)-3;\nvar lenHistory=Math.ceil(maxHorizontal/2)-1;var lenRandom=lenHistory;var defaultEmojis=[];for(var index=0;index<numEmojis;index++){defaultEmojis.push(openmoji.openmojis[3073].hexcode);}var tempmojis=[];for(var _index=0;_index<numEmojis;_index++){tempmojis.push(openmoji.openmojis[3073].hexcode);}var combineHistIndex=[100,137];var cat1Index=[0,1,2,3,4,5,//Top left petal \n19,20,21,22,23,24,37,38,39,40,41,42,43,56,57,58,59,60,61,62,74,75,76,77,78,79,80,81,93,94,95,96,97,98,99,100].reverse();//100\nvar cat2Index=[7,8,9,10,11,//Top middle petal \n26,27,28,29,45,46,47,64,65,83].reverse();var cat3Index=[13,14,15,16,17,18,//Top right petal\n31,32,33,34,35,36,49,50,51,52,53,54,55,67,68,69,70,71,72,73,85,86,87,88,89,90,91,92,103,104,105,106,107,108,109,110].reverse();var cat4Index=[130,131,132,133,134,135,136,137,148,149,150,151,152,153,154,155,167,168,169,170,171,172,173,185,186,187,188,189,190,191,204,205,206,207,208,209,222,223,224,225,226,227,241,242,243,244,245];//Bottom left petal\nvar cat5Index=[157,175,176,193,194,195,211,212,213,214,229,230,231,232,233,247,248,249,250,251,252];//Bottom middle petal\nvar cat6Index=[140,141,142,143,144,145,146,147,159,160,161,162,163,164,165,166,178,179,180,181,182,183,184,197,198,199,200,201,202,203,216,217,218,219,220,221,235,236,237,238,239,240,254,255,256,257,258];//Bottom right petal\n//Single emoji rows, fanning out from center:\nvar cat7Index=[121,122,123,124,125,126,127,128,129];//Line heading right from center\nvar cat8Index=[139,158,177,196,215,234,253];//Line heading right-down from center\nvar cat9Index=[138,156,174,192,210,228,246];//Line heading left-down from center\nvar cat10Index=[119,118,117,116,115,114,113,112,111];//Line heading left from center\nvar cat11Index=[101,82,63,44,25,6];//Line heading left-up from center\nvar cat12Index=[102,84,66,48,30,12];//Line heading right-up from center\nvar imageURLs=new Array(numEmojis);var Hexgrid_Hexgrid=function Hexgrid(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),emojiHistory=_useState2[0],setEmojiHistory=_useState2[1];var iniTileObj=newTileObject(defaultEmojis);var _useState3=Object(react[\"useState\"])(iniTileObj),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),emojiTiles=_useState4[0],setEmojiTiles=_useState4[1];//\nvar tmpTileObj=newTileObject(tempmojis,openmoji.openmojis[3073].hexcode);function getTileColour(tileIndex){var colour='white';if(cat7Index.includes(tileIndex)||cat8Index.includes(tileIndex)||cat9Index.includes(tileIndex)||cat10Index.includes(tileIndex)||cat11Index.includes(tileIndex)||cat12Index.includes(tileIndex)){colour='#dbf7fd';//white\n}else{colour='white';//'blue;\n}// if (tileIndex <= (center - 1) && tileIndex >= (center - lenHistory)) { //If tile is part of emoji history\n//   colour = '#dbf7fd';//'#d4d4d4';\n// }\nif(tileIndex===center){//If active emoji tile\ncolour='#a4eefc';//blue\n}return colour;}function getTileImage(tileIndex,hexcode){var image=\"\";if(Array.isArray(hexcode)){//Then hexcode is a blend\n//image = `http://localhost:9000/blends/1F9431F0CF.png`;\n// fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + hexcode[1])\n//   .then(res => res.json())\n//   .then(data => { image = \"http://localhost:9000/blends/\" + data.url;})\n//   .then(() => { return image })\n//return 'http://localhost:9000/blends/1F9431F0CF.png';\nreturn image;}else{//it is a single emoji character\nimage=\"/images/\"+hexcode+\".png\";return image;}}function newTileObject(_emojis,selectedHexcode){var hexcodes=_emojis;//let blendedHexcodes = _emojis[1];\nfor(var i=0;i<hexcodes.length;i++){imageURLs[i]=getTileImage(i,hexcodes[i]);}/*\n    Substitute blendedHexcodes into hexcodes where appropriate\n    */ // if (blendedHexcodes !== undefined && blendedHexcodes !== null && selectedHexcode !== undefined) {\n//   cat1Index.forEach(index => {\n//     hexcodes[index] = blendedHexcodes[cat1Index.indexOf(index)];\n//     //console.log(hexcodes[index]);\n//   });\n// }\n/*\n    Insert emoji history into active tiles\n    */if(emojiHistory.length>=1){for(var _i=0;_i<emojiHistory.length;_i++){if(center-_i-1>=center-lenHistory){hexcodes[center-_i-1]=emojiHistory[emojiHistory.length-2-_i];}}}// if (emojiHistory.length >= 1) {\n//   values[0][center] = emojiHistory[emojiHistory.length-1];\n//   for (let i = 0; i < emojiHistory.length-1; i++) {\n//     if (center - i -1> 49) {\n//       values[0][center - i - 2] = emojiHistory[emojiHistory.length - 1 - i];\n//     }\n//   }\n// }\nconsole.log('tiles len '+hexcodes.length);/*\n    Map hexcodes to tiles \n    */var tileObj=hexcodes.map(function(hexcode,index){if(!hexcode||hexcode.length===0){hexcode='2049';}/*  \n      Assign tile colour based on position in grid\n      */var colour=getTileColour(index);/*  \n      Assign tile image based on position in grid\n      */if(Array.isArray(hexcode)){//Then hexcode is a blend\n//console.log(\"Hex is array: \" + hexcode);\nimageURLs[index]=\"/blends/\"+hexcode[0]+hexcode[1]+'.png';}else{//it is a single emoji character\nimageURLs[index]=\"/images/\"+hexcode+\".png\";}return{img:imageURLs[index],key:index,onClick:function onClick(e){return handleClick(index,hexcode,e);},fill:'',styles:{normal:{fill:colour},hover:{fill:'#6cc7da'},active:{fill:'#779df1'}}};});return tileObj;}/*  \n  Get random emojis for every tile\n  */function getRandomHexcodes(){return new Promise(function(resolve,reject){var obj;fetch(\"/api/randomhexcodes?limit=\"+numEmojis.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \n  Get random blends\n  */function getRandomBlendHexcodes(hexcode){return new Promise(function(resolve,reject){var obj;fetch(\"/api/randomblendhexcodes/\"+hexcode+\"?limit=\"+cat1Index.length.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \n  Get markov emojis\n  */function getMarkovHexcodes(hexcode){return new Promise(function(resolve,reject){var obj;fetch(\"/api/markovhexcodes/\"+hexcode+\"?limit=\"+cat7Index.length.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*  \nGet markov blends\n*/function getMarkovBlendHexcodes(hexcode,limit){return new Promise(function(resolve,reject){var obj;fetch(\"/api/markovblendhexcodes/\"+hexcode+\"?limit=\"+limit.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){resolve(obj);});});}/*\n  Update emoji history and remove the oldest entry if length exceeds max.\n  */function updateEmojiHistory(hexcode,num){var newEmojis=emojiHistory;for(var i=0;i<num;i++){newEmojis.push(hexcode);if(newEmojis.length>lenHistory+1){newEmojis.shift();}}setEmojiHistory(newEmojis);}function getBlendHexcode(hexcode1,hexcode2){return new Promise(function(resolve,reject){var obj;if(Array.isArray(hexcode1)){hexcode1=hexcode1[0];}if(Array.isArray(hexcode2)){hexcode2=hexcode2[0];}fetch(\"/api/blendemojis/\"+hexcode1+\"/\"+hexcode2).then(function(res){return res.json();}).then(function(){obj=[hexcode1,hexcode2];}).then(function(){resolve(obj);});});}function getVarietyHexcodes(hexcode,blendedwith,limit){return new Promise(function(resolve,reject){var obj;var strEnd='';if(Array.isArray(hexcode)){strEnd='&blendedwith='+hexcode[0];hexcode=hexcode[1];}else if(blendedwith.length>0){strEnd='&blendedwith='+blendedwith;}if(emojiHistory[emojiHistory.length-2]!=='1F504'){strEnd=strEnd+'&prev='+emojiHistory[emojiHistory.length-2];}console.log(\"/api/variety/\"+hexcode+\"?limit=\"+limit.toString()+strEnd);fetch(\"/api/variety/\"+hexcode+\"?limit=\"+limit.toString()+strEnd).then(function(res){return res.json();}).then(function(data){console.log(data);obj=JSON.parse(data);}).then(function(){console.log(obj);}).then(function(){resolve(obj);}).catch(function(error){console.error(error.message);});});}var handleClick=function handleClick(id,hexcode,e){console.log(hexcode+' was clicked. ID is '+id);// Promise.all([getVarietyHexcodes(hexcode, numEmojis)]).then((values) => {\n//   console.log(\"Variety happends\");\n//   console.log(values);\n// }).catch(error => {\n//   console.error(error.message)\n// });\nif(id===center){var imgURL='';if(Array.isArray(hexcode)){//Then hexcode is a blend\nimgURL=\"/blends/\"+hexcode[0]+hexcode[1]+'.png';}else{//it is a single emoji character\nimgURL=\"/images/\"+hexcode+\".png\";}Object(FileSaver_min[\"saveAs\"])(imgURL,'blend.png');}else if(hexcode!=='1F504'){updateEmojiHistory(hexcode,1);//Add clicked emoji to emoji history\n/*\n      Replace all emoji with 'loading' that can't be clicked\n      */setEmojiTiles(tmpTileObj);console.log(\"Hex: \"+hexcode);var blendedwith='';//TODO: This is a quick fix, find a way to send both hexcodes and still get blends:\n// if (Array.isArray(hexcode)) { //Then hexcode is a blend\n//   blendedwith = hexcode[0];\n//   hexcode = hexcode[1]; \n// }\n//Get hexcodes for new tiles, then assign them to tiles:\n//Promise.all([getRandomHexcodes(), getRandomBlendHexcodes(hexcode), getMarkovHexcodes(hexcode), getBlendHexcode(hexcode, emojiHistory[emojiHistory.length - 2]), getBlendHexcode(emojiHistory[emojiHistory.length - 2], hexcode), getMarkovBlendHexcodes(hexcode, cat2Index.length), getMarkovBlendHexcodes(hexcode, cat3Index.length)]).then((values) => {\nPromise.all([getVarietyHexcodes(hexcode,blendedwith,numEmojis)]).then(function(tvalues){//numEmojis = 259\nconsole.log(tvalues[0]);var values=tempmojis;// values[0] = tvalues[0][0]; //random emoji\n// values[1] = tvalues[0][1]; //random blends\n// values[2] = tvalues[0][2]; //markov emoji\n// values[3] = tvalues[0][3]; //markov blends\ncat1Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][0][cat1Index.indexOf(index)];});cat2Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][1][cat2Index.indexOf(index)];});cat3Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][2][cat3Index.indexOf(index)];});cat4Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][3][cat4Index.indexOf(index)];});cat5Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][4][cat5Index.indexOf(index)];});cat6Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][5][cat6Index.indexOf(index)];});cat7Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][6][cat7Index.indexOf(index)];});cat8Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][7][cat8Index.indexOf(index)];});cat9Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][8][cat9Index.indexOf(index)];});cat11Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][9][cat11Index.indexOf(index)];});cat12Index.forEach(function(index){//Top-left petal\nvalues[index]=tvalues[0][10][cat12Index.indexOf(index)];});if(tvalues[0][11].length>0){combineHistIndex.forEach(function(index){//History tiles\nvalues[index]=tvalues[0][11][combineHistIndex.indexOf(index)];});}values[center]=hexcode;// console.log('values ' + values);\n// console.log('values ' + typeof values);\n// console.log(\"value 0  \" + values[0]);\n//Substitute blendedHexcodes into hexcodes where appropriate:\n// if (values[1] !== undefined && values[1] !== null && values[2] !== null && hexcode !== undefined) {\n//   cat1Index.forEach(index => { //Top-left petal\n//     values[0][index] = values[1][cat1Index.indexOf(index)];\n//   });\n//   cat2Index.forEach(index => { //Top-middle petal\n//     values[0][index] = values[3][cat2Index.indexOf(index)];\n//   });\n//   cat3Index.forEach(index => { //Top-right petal\n//     values[0][index] = values[3][cat3Index.indexOf(index)];\n//   });\n//   cat4Index.forEach(index => { //Bottom-left petal\n//     values[0][index] = values[1][cat4Index.indexOf(index)];\n//   });\n//   cat5Index.forEach(index => { //Bottom-middle petal\n//     values[0][index] = values[3][cat5Index.indexOf(index)];\n//   });\n//   cat6Index.forEach(index => { //Bottom-right petal\n//     values[0][index] = values[3][cat6Index.indexOf(index)];\n//   });\n//   cat7Index.forEach(index => { //Line headed right from centre: always random\n//     values[0][index] = values[2][cat7Index.indexOf(index)];\n//   });\n//   cat8Index.forEach(index => {  //Line heading right-down from center\n//     values[0][index] = values[2][cat8Index.indexOf(index)];\n//   });\n//   cat9Index.forEach(index => {  //Line heading left-down from center\n//     values[0][index] = values[2][cat9Index.indexOf(index)];\n//   });\n//   // cat10Index.forEach(index => {  //Line heading left from center: always history\n//   //   values[0][index] = values[2][cat10Index.indexOf(index)];\n//   // });\n//   cat11Index.forEach(index => {  //Line heading left-up from center\n//     values[0][index] = values[2][cat11Index.indexOf(index)];\n//   });\n//   cat12Index.forEach(index => {  //Line heading right-up from center\n//     values[0][index] = values[2][cat12Index.indexOf(index)];\n//   });\n// }\n// if (emojiHistory[emojiHistory.length - 2] !== '1F504') {\n//   values[0][100] = values[3]; //Make this one a blend between current and most recent history\n//   values[0][137] = values[4]; //Make this one a blend between current and most recent history  \n//   cat1Index.forEach(index => {\n//     if (index !== 100) {\n//       values[0][index] = values[0][index + 1];\n//     }\n//   });\n// }\n// else{\n//   // values[0][100] = values[3][0]; \n//   // values[0][137] = values[4][1];   \n// }\n//Insert emoji history into active tiles:\n// if (emojiHistory.length >= 1) {\n//   values[center] = emojiHistory[emojiHistory.length - 1];\n//   for (let i = 0; i < emojiHistory.length; i++) {\n//     if (center - i - 1 >= (center - lenHistory)) {\n//       values[center - i - 1] = emojiHistory[emojiHistory.length - 1 - i];\n//     }\n//   }\n// }\nvar newTileObj;var tilePromise=new Promise(function(resolve,reject){newTileObj=newTileObject(values,hexcode);resolve();});tilePromise.then(function(){setEmojiTiles(newTileObj);//console.log('values ' + values.length);\n}).catch(function(error){console.log(\"Something went wrong with the tilePromise.\");console.error(error.message);});//newTileObj = newTileObject(values, hexcode); //gen tiles then return them\n}).catch(function(error){console.error(error.message);});}};/*\n  Display the initial emoji options.\n  This is occuring twice according to the API terminal\n  */window.addEventListener('DOMContentLoaded',function(event){var scroll=document.querySelector('.App');scroll.scrollLeft=350;scroll.scrollTop=350;/*\n      Fill the emoji history with placeholders\n    */updateEmojiHistory(openmoji.openmojis[3073].hexcode,lenHistory+1);/*\n      TODO: Replace this with a call to the getrandoms function\n    */var obj;fetch(\"/api/randomhexcodes?limit=\"+numEmojis.toString()).then(function(res){return res.json();}).then(function(data){return obj=JSON.parse(data);}).then(function(){return iniTileObj=newTileObject(obj);}).then(function(){return setEmojiTiles(iniTileObj);}).catch(function(error){console.log(\"Something went wrong with the randomhexcodes fetch request.\");console.error(error.message);});});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"TiledHexagons\"],{tileSideLengths:60,tileGap:4,tileBorderRadii:9,maxHorizontal:maxHorizontal,tileTextStyles:{fontFamily:'Source Sans Pro',fontSize:'68px'},tiles:emojiTiles,onLoad:function onLoad(){return handleClick();}})});};/* harmony default export */ var src_Hexgrid = (Hexgrid_Hexgrid);\n// CONCATENATED MODULE: ./src/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Hexgrid,{})});};/* harmony default export */ var src_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/Navbar.js\nvar Navbar_Navbar=function Navbar(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"EmojiSuggest\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"links\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",children:\"Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/about\",style:{color:\"white\",backgroundColor:\"red\",borderRadius:\"8px\",padding:\"5px\"},children:\"About\"})]})]});};/* harmony default export */ var src_Navbar = (Navbar_Navbar);\n// CONCATENATED MODULE: ./src/App.js\n// Importing style sheet (TODO: remove this later)\n// Importing pages and components\nvar App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){Object(classCallCheck[\"a\" /* default */])(this,App);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Hexgrid,{})})});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 38)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.StrictMode,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"This work includes data from ConceptNet 5, which was compiled by the Commonsense Computing Initiative. \\\\n ConceptNet 5 is freely available under the Creative Commons Attribution-ShareAlike license (CC BY SA 4.0) from \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://conceptnet.io\",children:\"ConceptNet\"}),\". \\\\n The included data was created by contributors to Commonsense Computing projects, contributors to Wikimedia projects, Games with a Purpose, Princeton University's WordNet, DBPedia, OpenCyc, and Umbel.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"This work also uses the \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://opus.nlpl.eu/OpenSubtitles-v1.php\",children:\"OpenSubtitle Corpus\"}),\" which includes data from  \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"http://www.opensubtitles.org/\",children:\"OpenSubtitles\"}),\".\"]})]}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/postcss-loader/src/index.js??postcss!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/index.css","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/node_modules/postcss-loader/src/index.js??postcss!/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/App.css","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Hexgrid.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Home.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/Navbar.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/App.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/reportWebVitals.js","/Users/graceheffernan/Documents/GitHub/EmojiSuggest/client/src/index.js"],"names":["openmoji","require","fs","numEmojis","maxHorizontal","maxVertical","Math","ceil","center","round","lenHistory","lenRandom","defaultEmojis","index","push","openmojis","hexcode","tempmojis","combineHistIndex","cat1Index","reverse","cat2Index","cat3Index","cat4Index","cat5Index","cat6Index","cat7Index","cat8Index","cat9Index","cat10Index","cat11Index","cat12Index","imageURLs","Array","Hexgrid","useState","emojiHistory","setEmojiHistory","iniTileObj","newTileObject","emojiTiles","setEmojiTiles","tmpTileObj","getTileColour","tileIndex","colour","includes","getTileImage","image","isArray","_emojis","selectedHexcode","hexcodes","i","length","console","log","tileObj","map","img","key","onClick","e","handleClick","fill","styles","normal","hover","active","getRandomHexcodes","Promise","resolve","reject","obj","fetch","toString","then","res","json","data","JSON","parse","getRandomBlendHexcodes","getMarkovHexcodes","getMarkovBlendHexcodes","limit","updateEmojiHistory","num","newEmojis","shift","getBlendHexcode","hexcode1","hexcode2","getVarietyHexcodes","blendedwith","strEnd","catch","error","message","id","imgURL","saveAs","all","tvalues","values","forEach","indexOf","newTileObj","tilePromise","window","addEventListener","event","scroll","document","querySelector","scrollLeft","scrollTop","fontFamily","fontSize","Home","Navbar","color","backgroundColor","borderRadius","padding","App","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { TiledHexagons } from 'tiled-hexagons'\nimport { useState, useEffect } from 'react'\nimport React, { Component } from 'react';\nimport { saveAs } from 'file-saver';\n\nconst openmoji = require('openmoji');\nconst fs = require('fs');\n\nconst numEmojis = 259; //If this is adjusted, the catIndex allocations and calls to api\\variety will need to be changed\nconst maxHorizontal = 19;\nconst maxVertical = Math.ceil(numEmojis / maxHorizontal);\n\nconst center = Math.round((maxHorizontal * (maxVertical / 4)) + ((maxHorizontal - 1) * (maxVertical / 4))) - Math.round((maxHorizontal) / 2);//Math.ceil(numEmojis/2)-3;\nconst lenHistory = Math.ceil(maxHorizontal / 2) - 1;\nconst lenRandom = lenHistory;\nconst defaultEmojis = [];\n\nfor (let index = 0; index < numEmojis; index++) {\n  defaultEmojis.push(openmoji.openmojis[3073].hexcode);\n}\nvar tempmojis = [];\nfor (let index = 0; index < numEmojis; index++) {\n  tempmojis.push(openmoji.openmojis[3073].hexcode)\n}\n\nconst combineHistIndex = [100, 137];\nconst cat1Index = [0, 1, 2, 3, 4, 5, //Top left petal \n  19, 20, 21, 22, 23, 24,\n  37, 38, 39, 40, 41, 42, 43,\n  56, 57, 58, 59, 60, 61, 62,\n  74, 75, 76, 77, 78, 79, 80, 81,\n  93, 94, 95, 96, 97, 98, 99, 100].reverse(); //100\n\nconst cat2Index = [7, 8, 9, 10, 11, //Top middle petal \n  26, 27, 28, 29,\n  45, 46, 47,\n  64, 65,\n  83].reverse();\n\nconst cat3Index = [13, 14, 15, 16, 17, 18, //Top right petal\n  31, 32, 33, 34, 35, 36,\n  49, 50, 51, 52, 53, 54, 55,\n  67, 68, 69, 70, 71, 72, 73,\n  85, 86, 87, 88, 89, 90, 91, 92,\n  103, 104, 105, 106, 107, 108, 109, 110].reverse();\n\nconst cat4Index = [130, 131, 132, 133, 134, 135, 136, 137,\n148, 149, 150, 151, 152, 153, 154, 155,\n167, 168, 169, 170, 171, 172, 173,\n185, 186, 187, 188, 189, 190, 191,\n204, 205, 206, 207, 208, 209,\n222, 223, 224, 225, 226, 227,\n241, 242, 243, 244, 245]; //Bottom left petal\nconst cat5Index = [157,\n175, 176,\n193, 194, 195,\n211, 212, 213, 214,\n229, 230, 231, 232, 233,\n247, 248, 249, 250, 251, 252]; //Bottom middle petal\nconst cat6Index = [140, 141, 142, 143, 144, 145, 146, 147,\n159, 160, 161, 162, 163, 164, 165, 166,\n178, 179, 180, 181, 182, 183, 184,\n197, 198, 199, 200, 201, 202, 203,\n216, 217, 218, 219, 220, 221,\n235, 236, 237, 238, 239, 240,\n254, 255, 256, 257, 258]; //Bottom right petal\n\n//Single emoji rows, fanning out from center:\nconst cat7Index = [121, 122, 123, 124, 125, 126, 127, 128, 129]; //Line heading right from center\nconst cat8Index = [139, 158, 177, 196, 215, 234, 253]; //Line heading right-down from center\nconst cat9Index = [138, 156, 174, 192, 210, 228, 246]; //Line heading left-down from center\nconst cat10Index = [119, 118, 117, 116, 115, 114, 113, 112, 111]; //Line heading left from center\nconst cat11Index = [101, 82, 63, 44, 25, 6]; //Line heading left-up from center\nconst cat12Index = [102, 84, 66, 48, 30, 12]; //Line heading right-up from center\n\nlet imageURLs = new Array(numEmojis);\n\nconst Hexgrid = () => {\n  const [emojiHistory, setEmojiHistory] = useState([]);\n  var iniTileObj = newTileObject(defaultEmojis);\n  const [emojiTiles, setEmojiTiles] = useState(iniTileObj); //\n  const tmpTileObj = newTileObject(tempmojis, openmoji.openmojis[3073].hexcode);\n\n  function getTileColour(tileIndex) {\n    let colour = 'white';\n    if (cat7Index.includes(tileIndex) || cat8Index.includes(tileIndex) || cat9Index.includes(tileIndex) || cat10Index.includes(tileIndex) || cat11Index.includes(tileIndex) || cat12Index.includes(tileIndex)) {\n      colour = '#dbf7fd'; //white\n    }\n    else {\n      colour = 'white';//'blue;\n    }\n    // if (tileIndex <= (center - 1) && tileIndex >= (center - lenHistory)) { //If tile is part of emoji history\n    //   colour = '#dbf7fd';//'#d4d4d4';\n    // }\n    if (tileIndex === center) { //If active emoji tile\n      colour = '#a4eefc'; //blue\n    }\n    return colour;\n  }\n\n  function getTileImage(tileIndex, hexcode) {\n    let image = ``;\n    if (Array.isArray(hexcode)) { //Then hexcode is a blend\n      //image = `http://localhost:9000/blends/1F9431F0CF.png`;\n      // fetch(\"http://localhost:9000/blendemojis/\" + hexcode[0] + \"/\" + hexcode[1])\n      //   .then(res => res.json())\n      //   .then(data => { image = \"http://localhost:9000/blends/\" + data.url;})\n      //   .then(() => { return image })\n      //return 'http://localhost:9000/blends/1F9431F0CF.png';\n      return image\n    }\n    else { //it is a single emoji character\n      image = \"/images/\" + hexcode + \".png\";\n      return image;\n    }\n  }\n\n  function newTileObject(_emojis, selectedHexcode) {\n    let hexcodes = _emojis;\n    //let blendedHexcodes = _emojis[1];\n    for (let i = 0; i < hexcodes.length; i++) {\n      imageURLs[i] = getTileImage(i, hexcodes[i]);\n    }\n\n    /*\n    Substitute blendedHexcodes into hexcodes where appropriate\n    */\n    // if (blendedHexcodes !== undefined && blendedHexcodes !== null && selectedHexcode !== undefined) {\n    //   cat1Index.forEach(index => {\n    //     hexcodes[index] = blendedHexcodes[cat1Index.indexOf(index)];\n    //     //console.log(hexcodes[index]);\n    //   });\n    // }\n\n    /*\n    Insert emoji history into active tiles\n    */\n    if (emojiHistory.length >= 1) {\n      for (let i = 0; i < emojiHistory.length; i++) {\n        if (center - i - 1 >= (center - lenHistory)) {\n          hexcodes[center - i - 1] = emojiHistory[emojiHistory.length - 2 - i];\n        }\n      }\n    }\n\n    // if (emojiHistory.length >= 1) {\n    //   values[0][center] = emojiHistory[emojiHistory.length-1];\n    //   for (let i = 0; i < emojiHistory.length-1; i++) {\n    //     if (center - i -1> 49) {\n    //       values[0][center - i - 2] = emojiHistory[emojiHistory.length - 1 - i];\n    //     }\n    //   }\n    // }\n    console.log('tiles len ' + hexcodes.length);\n    /*\n    Map hexcodes to tiles \n    */\n    const tileObj = hexcodes.map((hexcode, index) => {\n      if(!hexcode || hexcode.length === 0){\n        hexcode = '2049';\n      }\n      /*  \n      Assign tile colour based on position in grid\n      */\n      let colour = getTileColour(index);\n\n      /*  \n      Assign tile image based on position in grid\n      */\n      if (Array.isArray(hexcode)) { //Then hexcode is a blend\n        //console.log(\"Hex is array: \" + hexcode);\n        imageURLs[index] = \"/blends/\" + hexcode[0] + hexcode[1] + '.png';\n      }\n      else { //it is a single emoji character\n        imageURLs[index] = \"/images/\" + hexcode + \".png\";\n      }\n      return {\n        img: imageURLs[index],\n        key: index,\n        onClick: (e) => handleClick(index, hexcode, e),\n        fill: '',\n        styles: {\n          normal: {\n            fill: colour\n          },\n          hover: {\n            fill: '#6cc7da'\n          },\n          active: {\n            fill: '#779df1'\n          }\n        }\n      }\n    })\n\n    return tileObj;\n  }\n\n  /*  \n  Get random emojis for every tile\n  */\n  function getRandomHexcodes() {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/randomhexcodes?limit=\" + numEmojis.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*  \n  Get random blends\n  */\n  function getRandomBlendHexcodes(hexcode) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/randomblendhexcodes/\" + hexcode + \"?limit=\" + cat1Index.length.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*  \n  Get markov emojis\n  */\n  function getMarkovHexcodes(hexcode) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/markovhexcodes/\" + hexcode + \"?limit=\" + cat7Index.length.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*  \nGet markov blends\n*/\n  function getMarkovBlendHexcodes(hexcode, limit) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      fetch(\"/api/markovblendhexcodes/\" + hexcode + \"?limit=\" + limit.toString())\n        .then(res => res.json())\n        .then(data => obj = JSON.parse(data))\n        .then(() => { resolve(obj); })\n    })\n  }\n\n  /*\n  Update emoji history and remove the oldest entry if length exceeds max.\n  */\n  function updateEmojiHistory(hexcode, num) {\n    let newEmojis = emojiHistory;\n    for (let i = 0; i < num; i++) {\n      newEmojis.push(hexcode);\n      if (newEmojis.length > lenHistory + 1) {\n        newEmojis.shift();\n      }\n    }\n    setEmojiHistory(newEmojis);\n  }\n\n  function getBlendHexcode(hexcode1, hexcode2) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      if (Array.isArray(hexcode1)) {\n        hexcode1 = hexcode1[0];\n      }\n      if (Array.isArray(hexcode2)) {\n        hexcode2 = hexcode2[0];\n      }\n\n      fetch(\"/api/blendemojis/\" + hexcode1 + \"/\" + hexcode2)\n        .then(res => res.json())\n        .then(() => { obj = [hexcode1, hexcode2]; })\n        .then(() => { resolve(obj); })\n    })\n  }\n  function getVarietyHexcodes(hexcode, blendedwith, limit) {\n    return new Promise((resolve, reject) => {\n      var obj;\n      var strEnd = '';\n      if (Array.isArray(hexcode)) {\n        strEnd = '&blendedwith=' + hexcode[0];\n        hexcode = hexcode[1];\n      }\n      else if (blendedwith.length > 0) {\n        strEnd = '&blendedwith=' + blendedwith;\n      }\n\n      if(emojiHistory[emojiHistory.length - 2] !== '1F504'){\n        strEnd = strEnd + '&prev=' + emojiHistory[emojiHistory.length - 2];\n      }\n      console.log(\"/api/variety/\" + hexcode + \"?limit=\" + limit.toString() + strEnd);\n\n      fetch(\"/api/variety/\" + hexcode + \"?limit=\" + limit.toString() + strEnd)\n        .then(res => res.json())\n        .then(data => { console.log(data); obj = JSON.parse(data); })\n        .then(() => { console.log(obj); })\n        .then(() => { resolve(obj); })\n        .catch(error => {\n          console.error(error.message)\n        });\n    })\n  }\n\n\n  const handleClick = (id, hexcode, e) => {\n    console.log(hexcode + ' was clicked. ID is ' + id);\n    // Promise.all([getVarietyHexcodes(hexcode, numEmojis)]).then((values) => {\n    //   console.log(\"Variety happends\");\n    //   console.log(values);\n    // }).catch(error => {\n    //   console.error(error.message)\n    // });\n\n    \n    if (id === center) {\n      var imgURL = '';\n\n      if (Array.isArray(hexcode)) { //Then hexcode is a blend\n        imgURL = \"/blends/\" + hexcode[0] + hexcode[1] + '.png';\n      }\n      else { //it is a single emoji character\n        imgURL = \"/images/\" + hexcode + \".png\";\n      }\n\n      saveAs(imgURL, 'blend.png');\n    }\n    else if (hexcode !== '1F504') {\n      updateEmojiHistory(hexcode, 1); //Add clicked emoji to emoji history\n\n      /*\n      Replace all emoji with 'loading' that can't be clicked\n      */\n      setEmojiTiles(tmpTileObj);\n      console.log(\"Hex: \" + hexcode);\n      let blendedwith = '';\n      //TODO: This is a quick fix, find a way to send both hexcodes and still get blends:\n      // if (Array.isArray(hexcode)) { //Then hexcode is a blend\n      //   blendedwith = hexcode[0];\n      //   hexcode = hexcode[1]; \n      // }\n\n      //Get hexcodes for new tiles, then assign them to tiles:\n      //Promise.all([getRandomHexcodes(), getRandomBlendHexcodes(hexcode), getMarkovHexcodes(hexcode), getBlendHexcode(hexcode, emojiHistory[emojiHistory.length - 2]), getBlendHexcode(emojiHistory[emojiHistory.length - 2], hexcode), getMarkovBlendHexcodes(hexcode, cat2Index.length), getMarkovBlendHexcodes(hexcode, cat3Index.length)]).then((values) => {\n      Promise.all([getVarietyHexcodes(hexcode, blendedwith, numEmojis)]).then((tvalues) => { //numEmojis = 259\n        console.log(tvalues[0]);\n        let values = tempmojis;\n        // values[0] = tvalues[0][0]; //random emoji\n        // values[1] = tvalues[0][1]; //random blends\n        // values[2] = tvalues[0][2]; //markov emoji\n        // values[3] = tvalues[0][3]; //markov blends\n        cat1Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][0][cat1Index.indexOf(index)];\n        });\n\n        cat2Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][1][cat2Index.indexOf(index)];\n        });\n        cat3Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][2][cat3Index.indexOf(index)];\n        });\n        cat4Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][3][cat4Index.indexOf(index)];\n        });\n        cat5Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][4][cat5Index.indexOf(index)];\n        });\n        cat6Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][5][cat6Index.indexOf(index)];\n        });\n        cat7Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][6][cat7Index.indexOf(index)];\n        });\n        cat8Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][7][cat8Index.indexOf(index)];\n        });\n        cat9Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][8][cat9Index.indexOf(index)];\n        });\n        cat11Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][9][cat11Index.indexOf(index)];\n        });\n        cat12Index.forEach(index => { //Top-left petal\n          values[index] = tvalues[0][10][cat12Index.indexOf(index)];\n        });\n        if(tvalues[0][11].length > 0){\n          combineHistIndex.forEach(index => { //History tiles\n            values[index] = tvalues[0][11][combineHistIndex.indexOf(index)];\n          });  \n        }\n\n        values[center] = hexcode;\n        // console.log('values ' + values);\n        // console.log('values ' + typeof values);\n        // console.log(\"value 0  \" + values[0]);\n\n                //Substitute blendedHexcodes into hexcodes where appropriate:\n        // if (values[1] !== undefined && values[1] !== null && values[2] !== null && hexcode !== undefined) {\n        //   cat1Index.forEach(index => { //Top-left petal\n        //     values[0][index] = values[1][cat1Index.indexOf(index)];\n        //   });\n        //   cat2Index.forEach(index => { //Top-middle petal\n        //     values[0][index] = values[3][cat2Index.indexOf(index)];\n        //   });\n        //   cat3Index.forEach(index => { //Top-right petal\n        //     values[0][index] = values[3][cat3Index.indexOf(index)];\n        //   });\n        //   cat4Index.forEach(index => { //Bottom-left petal\n        //     values[0][index] = values[1][cat4Index.indexOf(index)];\n        //   });\n        //   cat5Index.forEach(index => { //Bottom-middle petal\n        //     values[0][index] = values[3][cat5Index.indexOf(index)];\n        //   });\n        //   cat6Index.forEach(index => { //Bottom-right petal\n        //     values[0][index] = values[3][cat6Index.indexOf(index)];\n        //   });\n\n        //   cat7Index.forEach(index => { //Line headed right from centre: always random\n        //     values[0][index] = values[2][cat7Index.indexOf(index)];\n        //   });\n        //   cat8Index.forEach(index => {  //Line heading right-down from center\n        //     values[0][index] = values[2][cat8Index.indexOf(index)];\n        //   });\n        //   cat9Index.forEach(index => {  //Line heading left-down from center\n        //     values[0][index] = values[2][cat9Index.indexOf(index)];\n        //   });\n        //   // cat10Index.forEach(index => {  //Line heading left from center: always history\n        //   //   values[0][index] = values[2][cat10Index.indexOf(index)];\n        //   // });\n        //   cat11Index.forEach(index => {  //Line heading left-up from center\n        //     values[0][index] = values[2][cat11Index.indexOf(index)];\n        //   });\n        //   cat12Index.forEach(index => {  //Line heading right-up from center\n        //     values[0][index] = values[2][cat12Index.indexOf(index)];\n        //   });\n        // }\n\n        // if (emojiHistory[emojiHistory.length - 2] !== '1F504') {\n        //   values[0][100] = values[3]; //Make this one a blend between current and most recent history\n        //   values[0][137] = values[4]; //Make this one a blend between current and most recent history  \n        //   cat1Index.forEach(index => {\n        //     if (index !== 100) {\n        //       values[0][index] = values[0][index + 1];\n        //     }\n        //   });\n        // }\n        // else{\n        //   // values[0][100] = values[3][0]; \n        //   // values[0][137] = values[4][1];   \n        // }\n\n        //Insert emoji history into active tiles:\n        // if (emojiHistory.length >= 1) {\n        //   values[center] = emojiHistory[emojiHistory.length - 1];\n        //   for (let i = 0; i < emojiHistory.length; i++) {\n        //     if (center - i - 1 >= (center - lenHistory)) {\n        //       values[center - i - 1] = emojiHistory[emojiHistory.length - 1 - i];\n        //     }\n        //   }\n        // }\n\n        var newTileObj;\n        const tilePromise = new Promise((resolve, reject) => {\n          newTileObj = newTileObject(values, hexcode);\n          resolve();\n        });\n        tilePromise\n          .then(() => {\n            setEmojiTiles(newTileObj); //console.log('values ' + values.length);\n          }).catch(error => {\n            console.log(\"Something went wrong with the tilePromise.\")\n            console.error(error.message)\n          });\n\n        //newTileObj = newTileObject(values, hexcode); //gen tiles then return them\n      }).catch(error => {\n        console.error(error.message)\n      });\n    }\n  }\n\n  /*\n  Display the initial emoji options.\n  This is occuring twice according to the API terminal\n  */\n  window.addEventListener('DOMContentLoaded', (event) => {\n    const scroll = document.querySelector('.App');\n    scroll.scrollLeft = 350;\n    scroll.scrollTop = 350;\n\n    /*\n      Fill the emoji history with placeholders\n    */\n    updateEmojiHistory(openmoji.openmojis[3073].hexcode, lenHistory + 1);\n\n    /*\n      TODO: Replace this with a call to the getrandoms function\n    */\n    var obj;\n    fetch(\"/api/randomhexcodes?limit=\" + numEmojis.toString())\n      .then(res => res.json())\n      .then(data => obj = JSON.parse(data))\n      .then(() => iniTileObj = newTileObject(obj))\n      .then(() => setEmojiTiles(iniTileObj))\n      .catch(error => {\n        console.log(\"Something went wrong with the randomhexcodes fetch request.\")\n        console.error(error.message)\n      })\n  });\n\n  return (\n    <>\n      <TiledHexagons\n        tileSideLengths={60}\n        tileGap={4}\n        tileBorderRadii={9}\n        maxHorizontal={maxHorizontal}\n        tileTextStyles={{\n          fontFamily: 'Source Sans Pro',\n          fontSize: '68px',\n        }}\n        tiles={emojiTiles}\n        onLoad={() => handleClick()}\n      />\n    </>\n  );\n}\n\nexport default Hexgrid;","import Hexgrid from \"./Hexgrid\";\n\nconst Home = () => {    \n    return ( \n        <div className=\"home\">\n            <Hexgrid />\n        </div>\n     );\n}\n \nexport default Home;","const Navbar = () => {\n    return(\n        <nav className=\"navbar\">\n            <h1>EmojiSuggest</h1>\n            <div className=\"links\">\n                <a href=\"/\">Home</a>\n                <a href=\"/about\" style={{\n                    color: \"white\",\n                    backgroundColor: \"red\",\n                    borderRadius: \"8px\",\n                    padding: \"5px\"\n                }}>About</a>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navbar;","import React, { Component } from \"react\";\n// Importing style sheet (TODO: remove this later)\nimport './App.css';\n\n// Importing pages and components\nimport Home from \"./Home\";\nimport Navbar from \"./Navbar\";\nimport Hexgrid from \"./Hexgrid\";\n\n\nclass App extends Component {\n  render(){\n    return (    \n      <div className=\"App\">\n        {/* Navigation Bar Component*/}\n        {/*<Navbar /> */} \n        <div className=\"content\">\n          <Hexgrid />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <p>This work includes data from ConceptNet 5, which was compiled by the Commonsense Computing Initiative. \\n\n      ConceptNet 5 is freely available under the Creative Commons Attribution-ShareAlike license (CC BY SA 4.0) from <a href=\"https://conceptnet.io\">ConceptNet</a>. \\n\n      The included data was created by contributors to Commonsense Computing projects, contributors to Wikimedia projects, Games with a Purpose, Princeton University's WordNet, DBPedia, OpenCyc, and Umbel.</p>\n    <p>This work also uses the <a href=\"https://opus.nlpl.eu/OpenSubtitles-v1.php\">OpenSubtitle Corpus</a> which includes data from  <a href=\"http://www.opensubtitles.org/\">OpenSubtitles</a>.</p>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}